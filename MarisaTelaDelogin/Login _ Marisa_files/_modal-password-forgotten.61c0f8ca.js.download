!function(t,n){"use strict";function r(){n('[data-match-height="password-forgotten-input"]').matchHeight()}t.component("password-forgotten",{active:!0,init:function(){var t=this;n(document).ready(function(){t.listeners().triggers()})},triggers:function(){return n(document).on("submit",".password-forgotten-component",function(t){t.preventDefault(),n(this).trigger("submit:form--password-forgotten")}),n(document).on("invalid",".password-forgotten-component :input",function(){return n(this).trigger("invalid:input--password-forgotten"),!1}),n("#password-forgotten-modal").on("show.bs.modal",function(t){n(this).trigger("modal:show--password-forgotten")}),this},listeners:function(){var o=this;return n(document).on("invalid:input--password-forgotten",".password-forgotten-component :input",function(){o.makeInputInvalid.call(this)}),n(document).on("submit:form--password-forgotten",".password-forgotten-component",function(){var t=this;Marisa.components["page:tools"].loaderMaster(!0),setTimeout(function(){o.submit.call(t)},500)}),n("#password-forgotten-modal").on("show.bs.modal",function(t){o.loadModalData.call(this,t)}),this},loadModalData:function(t){var o=n(this);n.ajax({url:n(t.relatedTarget).data("content-url"),cache:!1,type:"GET",success:function(t){o.find(".modal-body").html(t),r()},error:function(t){logError(t)}})},makeInputInvalid:function(){return n(this).parents(".form-group").addClass("has-error"),this},submit:function(){var o=n(this);return n.ajax({url:o.attr("action"),data:o.serialize(),type:"POST",async:!1}).done(function(t){o.parents(".modal-body").html(t),r()}).fail(function(t){logError(t),o.parents(".modal-body").html("Ops! algo deu errado, tente novamente mais tarde.")}).always(function(){Marisa.components["page:tools"].loaderMaster(!1)}),this}})}(Marisa,jQuery);