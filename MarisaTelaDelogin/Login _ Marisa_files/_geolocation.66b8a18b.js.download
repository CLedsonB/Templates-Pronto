!function(r,t){"use strict";var o;function e(){var e=r.Deferred(),o=this,t=o.getUserPosition();return t.done(function(t){return o.setLatitude(t.coords.latitude),o.setLongitude(t.coords.longitude),e.resolve(t.coords)}),t.fail(function(t){return logWarn("[ "+o._errorsCodeMapping[t.code]+" ] Using default address"),o.setLatitude(o._defaultAddress.latitude),o.setLongitude(o._defaultAddress.longitude),e.reject(o._defaultAddress)}),e.promise()}o=navigator.geolocation,e.active=!0,e.prototype.coordinates={latitude:null,longitude:null},e.prototype.config={timeout:1e7,enableHighAccuracy:!1,maximumAge:0},e.prototype._errorsCodeMapping={1:"Permission denied",2:"Position unavailable",3:"Request timeout"},e.prototype._defaultAddress={address:"Lojas Marisa, Av. Paulista, 1713 - Bela Vista, SÃ£o Paulo - SP, 01311-200",latitude:"-23.561029",longitude:"-46.657501"},e.prototype.setLatitude=function(t){return this.coordinates.latitude=t},e.prototype.setLongitude=function(t){return this.coordinates.longitude=t},e.prototype.checkBrowserSupport=function(){return"geolocation"in navigator},e.prototype.getUserPosition=function(){var e=r.Deferred();return o.getCurrentPosition(function(t){return e.resolve(t)},function(t){return e.reject(t)},this.config),e.promise()},t.component("geolocation",e)}(jQuery,Marisa);