!function(o){function n(r,m,d){var a,k=this,p=(r=o(r),m="function"==typeof m?m(r.val(),void 0,r,d):m,k.init=function(){d=d||{},k.byPassKeys=[9,16,17,18,36,37,38,39,40,91],k.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},k.translation=o.extend({},k.translation,d.translation),k=o.extend(!0,{},k,d),r.each(function(){!1!==d.maxlength&&r.attr("maxlength",m.length),r.attr("autocomplete","off"),p.destroyEvents(),p.events(),p.val(p.getMasked())})},{getCaret:function(){var t=0,e=r.get(0),n=document.selection,a=e.selectionStart;return n&&!~navigator.appVersion.indexOf("MSIE 10")?(e.focus(),(t=n.createRange()).moveStart("character",-e.value.length),t=t.text.length):!a&&"0"!==a||(t=a),t},setCaret:function(t){var e;(e=r.get(0)).setSelectionRange?(e.focus(),e.setSelectionRange(t,t)):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())},events:function(){r.on("keydown.mask",function(){a=p.val()}),r.on("keyup.mask",p.behaviour),r.on("paste.mask",function(){setTimeout(function(){r.keydown().keyup()},100)})},destroyEvents:function(){r.off("keydown.mask keyup.mask paste.mask")},val:function(t){var e=r.is(o.zepto?"input":":input");return 0<arguments.length?e?r.val(t):r.text(t):e?r.val():r.text()},behaviour:function(t){var e,n,a,r=(t=t||window.event).keyCode||t.which;if(-1===o.inArray(r,k.byPassKeys))return(n=p.getCaret())<p.val().length&&(e=!0),(a=p.getMasked())!==p.val()&&p.val(a),!e||65===r&&t.ctrlKey||p.setCaret(n),p.callbacks(t)},getMasked:function(t){for(var e,n=[],a=p.val(),r=0,o=m.length,s=0,i=a.length,c=1,l="push",u=-1,f=d.reverse?(l="unshift",c=-1,e=0,r=o-1,s=i-1,function(){return-1<r&&-1<s}):(e=o-1,function(){return r<o&&s<i});f();){var v=m.charAt(r),h=a.charAt(s),g=k.translation[v];g?(h.match(g.pattern)?(n[l](h),g.recursive&&(-1===u?u=r:r===e&&(r=u-c),e===u&&(r-=c)),r+=c):g.optional&&(r+=c,s-=c),s+=c):(t||n[l](v),h===v&&(s+=c),r+=c)}return t=m.charAt(e),o!==i+1||k.translation[t]||n.push(t),n.join("")},callbacks:function(t){var e=p.val(),n=p.val()!==a;!0==n&&"function"==typeof d.onChange&&d.onChange(e,t,r,d),!0==n&&"function"==typeof d.onKeyPress&&d.onKeyPress(e,t,r,d),"function"==typeof d.onComplete&&e.length===m.length&&d.onComplete(e,t,r,d)}});k.remove=function(){p.destroyEvents(),p.val(k.getCleanVal()).removeAttr("maxlength")},k.getCleanVal=function(){return p.getMasked(!0)},k.init()}o.fn.mask=function(t,e){return this.each(function(){o(this).data("mask",new n(this,t,e))})},o.fn.unmask=function(){return this.each(function(){try{o(this).data("mask").remove()}catch(t){}})},o.fn.cleanVal=function(){return o(this).data("mask").getCleanVal()},o("*[data-mask]").each(function(){var t=o(this),e={};"true"===t.attr("data-mask-reverse")&&(e.reverse=!0),"false"===t.attr("data-mask-maxlength")&&(e.maxlength=!1),t.mask(t.attr("data-mask"),e)})}(window.jQuery||window.Zepto);